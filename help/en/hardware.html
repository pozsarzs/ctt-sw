<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
  <head>
    <meta http-equiv="content-type" context="text/html; charset=utf-8">
    <title>CTT Help | Hardware</title>
    <link href="../styles.css" rel=stylesheet type="text/css">
  </head>
  <body class="normal">
    <b class="title1">III. Hardware</b><br>
    <br>
    <b class="title2">About device</b><br>
    <br>
    The CTT is a computer-controlled tester and plotter for bipolar transistors.
    The device is connected to the machine via the parallel port.<br>
    <br>
    <b class="title3">Operating modes and measuring voltages</b><br>
    <br>
    <table width="100%" border="1" cellspacing="0" cellpadding="6">
      <tbody>
        <tr><td align="left">operation mode M0</td><td align="left">Stand-by</td><td align="left">&nbsp;</td><td align="left">&nbsp;</td></tr>
        <tr><td align="left">operation mode M1</td><td align="left">BU<sub>CB</sub> measuring</td><td align="left">U<sub>CB</sub>=100 V</td><td align="left">&nbsp;</td></tr>
        <tr><td align="left">operation mode M2</td><td align="left">BU<sub>CE</sub> measuring</td><td align="left">U<sub>CE</sub>=0...20 V</td><td align="left">&nbsp;</td></tr>
        <tr><td align="left">operation mode M3</td><td align="left">I<sub>EB0</sub> measuring</td><td align="left">U<sub>EB</sub>=0...20 V</td><td align="left">&nbsp;</td></tr>
        <tr><td align="left">operation mode M4</td><td align="left">I<sub>CB0</sub> measuring</td><td align="left">U<sub>CB</sub>=0...20 V</td><td align="left">&nbsp;</td></tr>
        <tr><td align="left">operation mode M5</td><td align="left">I<sub>CE0</sub> measuring</td><td align="left">U<sub>CE</sub>=0...20 V</td><td align="left">&nbsp;</td></tr>
        <tr><td align="left">operation mode M6</td><td align="left">I<sub>B</sub>/U<sub>BE</sub> characteristic curve recording</td><td align="left">U<sub>B</sub>=0...1 V</td><td align="left">U<sub>C</sub>=0...20 V</td></tr>
        <tr><td align="left">operation mode M7</td><td align="left">I<sub>C</sub>/U<sub>CE</sub> characteristic curve recording</td><td align="left">U<sub>B</sub>=0...1 V</td><td align="left">U<sub>C</sub>=0...20 V</td></tr>
        <tr><td align="left">operation mode M8</td><td align="left">Selection by h<sub>21e</sub></td><td align="left">U<sub>B</sub>=0...1 V</td><td align="left">U<sub>C</sub>=0...20 V</td></tr>
      </tbody>
    </table>
    <br>
    <b class="title3">Measurement principle</b><br>
    <br>
    <table width="100%" border=0>
      <tr>
        <td><img src="../pics/principle_figure_1.png" width="100%" border="1"></td>
        <td><img src="../pics/principle_figure_2.png" width="100%" border="1"></td>
        <td><img src="../pics/principle_figure_3.png" width="100%" border="1"></td>
      </tr>
      <tr>
        <td align="center"><i>Measuring collector-emitter breakdown voltage</i></td>
        <td align="center"><i>Measuring collector-base breakdown voltage</i></td>
        <td align="center"><i>Measuring emitter-base cutoff current</i></td>
      <tr>
      </tr>
        <td><img src="../pics/principle_figure_4.png" width="100%" border="1"></td>
        <td><img src="../pics/principle_figure_5.png" width="100%" border="1"></td>
        <td><img src="../pics/principle_figure_6.png" width="100%" border="1"></td>
      </tr>
      <tr>
        <td align="center"><i>Measuring collector-base cutoff current</i></td>
        <td align="center"><i>Measuring collector-emitter cutoff current</i></td>
        <td align="center"><i>Measuring and plotting Ube/Ib or Uce/Ic characteristic curve</i></td>
      <tr>
    </table>
    <br>
    <b class="title3">Implementation</b><br>
    <br>
    <table width="100%" border=0>
      <tr>
        <td><img src="../pics/implementation_figure_1.png" width="100%" border="1"></td>
        <td><img src="../pics/implementation_figure_2.png" width="100%" border="1"></td>
        <td><img src="../pics/implementation_figure_3.png" width="100%" border="1"></td>
      </tr>
      <tr>
        <td align="center"><i>Measuring collector-emitter breakdown voltage</i></td>
        <td align="center"><i>Measuring collector-base breakdown voltage</i></td>
        <td align="center"><i>Measuring emitter-base cutoff current</i></td>
      <tr>
      </tr>
        <td><img src="../pics/implementation_figure_4.png" width="100%" border="1"></td>
        <td><img src="../pics/implementation_figure_5.png" width="100%" border="1"></td>
        <td><img src="../pics/implementation_figure_6.png" width="100%" border="1"></td>
      </tr>
      <tr>
        <td align="center"><i>Measuring collector-base cutoff current</i></td>
        <td align="center"><i>Measuring collector-emitter cutoff current</i></td>
        <td align="center"><i>Measuring and plotting Ube/Ib or Uce/Ic characteristic curve</i></td>
      <tr>
    </table>
    <br>
    <i>Note:</i> Electronic parts on the pictures are in the unit CTT/SW2.<br>
    <br>
    <b class="title2">Internal construction</b><br>
    <br>
    The device consists of ten units, which are located on a separate printed
    circuit board. The units are connected to each other using traditional
    (bundled) wiring, with only a few larger components between them. Digital
    units function as peripherals and are read/written using selector lines. See
    schematics of these units or check out the <a
    href="https://github.com/pozsarzs/ctt-hw">Github repository</a> for all CAD
    files.<br>
    <br>
    <img src="../pics/sch_ctt.png" width="100%" border="1">
    <br>
    <br>
    <b class="title3">CTT/IF unit</b><br>
    <br>
    This unit is identical to a previous project (LPTIO). Interface has four
    settable equipment ID (EqID), eight select outputs, eight inputs and eight
    outputs and is connected to a computer via an LPT port. The four-bit EqID
    identifies the device, which can be set using the jumpers.<br>Before the I/O
    operation, the computer sends a 3-bit selector address and a 4-bit EqID,
    which is stored in the IC2 octal D type flip-flop circuit (74LS374).
    (Receives enable from -INIT line). The stored and set ID are compared by the
    IC3 comparator (74LS688), and if there is a match, the IC4 multiplexer
    circuit (74LS138) is enabled. The second enable comes on the LPT port on the
    -STROBE line. The match of the identifier is indicated to the computer on the
    -ERROR line. If the multiplexer is enabled, the selector line corresponding
    to the stored address is activated. The I/O operation from the selected
    address can then be performed.<br>PC reads eight bits in two parts using the 4x2
    input multiplexer circuit (IC5: 74LS157).<br>The halfbyte data is entered on the
    BUSY, -ACK, SLCT and PE lines, -AUTOFD is used to select the lower and upper
    half-byte. The output is buffered with a IC1 bus transceiver (74LS245)
    circuit to protect the same circuit of the LPT adapter. The PC writes 1 byte
    data through lines D0-7.<br>
    <br>
    <img src="../pics/sch_ctt-if.png" width="100%" border="1">
    <br>
    <br>
    <b class="title3">CTT/SW1</b><br>
    <br>
    The first switching unit is responsible for controlling the second switching
    unit. One byte data can be entered into the switching unit by activating the
    -SL0 selection line. The first three bits of the data determine the operating
    mode, the fourth is not used, the fifth can be used to switch between the
    Ube/Uce measurement, the sixth enables the measurement selected in the
    previous bit, the seventh can be used to select the structure of the transistor
    (NPN/PNP) and the eighth can be select the higher current measurement for the
    power transistors.<br>The entered byte is stored by IC1 octal D type flip-flop
    circuit (74LS374). The lower three bits go to multiplexer IC2 (74LS138).
    Outputs O0 and O7 of the multiplexer are the default position, no measurement
    is performed here, the test connector is de-energized. The other outputs
    drive the 14 transistor open-collector output through inverters IC3 (74LS04) and
    diodes D1-14. The diode circuit ensures that the outputs corresponding to the
    operating modes are switched on and the input signals are separated from each
    other.<br>The output of IC1 O4-6 goes to the diodes and output transistors
    through transistors, the output O7 switches the lower/higher current
    measurement with a relay located outside the panel, which is switched by a
    transistor.<br>
    <br>
    <img src="../pics/sch_ctt-sw1.png" width="100%" border="1">
    <br>
    <br>
    <b class="title3">CTT/SW2</b><br>
    <br>
    The second switching unit is controlled by the first switching unit. Its task
    is to connect the measuring voltages and the A/D conversion unit to the
    transistor to be measured. All relays are reed relays, their coils are
    self-made. Resistors R10-R23 limit the current in the coils.<br>Diodes D1-D14
    suppress reverse polarity voltage peaks when the relay is turned off. <br>The
    measuring circuit is independent of the GND of the device.<br>
    <br>
    <img src="../pics/sch_ctt-sw2.png" width="100%" border="1">
    <br>
    <br>
    <b class="title3">CTT/AD</b><br>
    <br>
    The A/D conversion unit measures the voltages of the measuring circuit.<br>The
    measurement starts with the activation of the -SL5 selection line. Due to the
    active line, the IC2 D-type flip-flop circuit (74LS74) flips over and starts
    measuring. The end of the measurement is signaled by the STATUS output of the
    A/D converter, which resets the flip-flop and the converter goes into the
    HOLD state.<br>The IC1 A/D converter (ICL7109) is 12-bit, so the output data
    will be two bytes. The output data is connected to the data bus by the bus
    driver circuits IC3 and IC4 (74LS245). The lower byte of the measured value
    is read using -SL3, the upper byte -SL4. The sixth bit of the upper byte
    indicates the polarity of the input voltage, the seventh bit indicates the
    overflow, and the eighth bit indicates the current measurement. The fifth bit
    is always 0.<br>
    <br>
    <img src="../pics/sch_ctt-ad.png" width="100%" border="1">
    <br>
    <br>
    <b class="title3">CTT/DP</b><br>
    <br>
    The display unit shows the status of the device with LEDs on the front panel
    of the device. By activating the -SL0 selection line, one byte of data can be
    entered into this unit at the same time as the switching unit. The first
    three bits of the data determine the operating mode, the fourth is unused,
    the seventh is used to select the structure of the transistor, and the eighth
    is used to measure power transistors.<br>The input byte is stored in IC1
    octal D-type flip-flop circuit (74LS374). The lower three bits go to
    multiplexer IC2 (74LS138). The outputs O0-O7 of the multiplexer are connected
    to the Operation mode LEDs.<br> The output of IC1 O6 is connected to the
    yellow NPN LED and via a transistor inverter to the yellow PNP LED. Output O7
    drives the high power LED.<br>
    <br>
    <img src="../pics/sch_ctt-dp.png" width="100%" border="1">
    <br>
    <br>
    <b class="title3">CTT/SC</b><br>
    <br>
    The task of the status collector unit is to transmit four digital states to
    the control unit.<br>When the -SL1 selector line is activated, the IC1 bus
    driver circuit (74LS244) transfers states of its inputs to the data line, the
    upper four bits of which is always 0.<br>This unit currently unused.<br>
    <br>
    <img src="../pics/sch_ctt-sc.png" width="100%" border="1">
    <br>
    <br>
    <b class="title3">CTT/PS1</b><br>
    <br>
    The task of the unit is to supply the digital circuit units with a stabilized
    DC voltage: +5 V 2 A and -5 V 500 mA, as well as to produce the measuring
    voltage Um2 independent of grounding, which is approx. 100 V. The unit also
    contains the polarity change relay driver. This relay located between
    units.<br>
    <br>
    <img src="../pics/sch_ctt-ps1.png" width="100%" border="1">
    <br>
    <br>
    <b class="title3">CTT/PS2 and CTT/PS3</b><br>
    <br>
    Both power supplies produce an ungrounded measuring voltage with switchable
    polarity. A CTT/PS2 has an output voltage of 20 V 1.5 A, a CTT/PS3 has an
    output voltage of 1 V 100 mA. The output voltage can be adjusted in 256
    steps. The outputs have overcurrent protection.<br> The power supply is based
    on two subtypes of the LM317 voltage regulator. The output voltage of the
    circuit can be easily adjusted, and its output is thermally and short-circuit
    protected.<br>The double secondary voltage of the transformer reaches the buffer
    capacitors after two-way rectification. The positive voltage goes to the
    regulator circuit (IC1), the negative voltage to a stabilizer built with a
    zener diode, which provides the bias voltage. The 0V output voltage can be
    set with the trimmer potentiometer (P1).<br> By activating the -SL7 or -SL6
    selection line, one byte of data can be entered into this unit. The input
    byte is stored in IC2 octal D-type flip-flop circuit (74LS374). The data
    appears immediately at the storage output and turns on the K2-9 PCB relays
    with the help of transistors T1-8. The contact of the relays changes the
    value of the resistance ladder of the voltage regulator, therefore the output
    voltage also changes.<br>
    <br>
    <img src="../pics/sch_ctt-ps2.png" width="100%" border="1">
    <br>
    <br>
    <img src="../pics/sch_ctt-ps3.png" width="100%" border="1">
    <br>
    <br>
    <b class="title3">CTT/PS4</b><br>
    <br>
    The task of the unit is to supply the other power supplies with alternating
    current. It includes a powerful mains transformer and the primary circuit
    components. The transformer is toroidal and has five secondary windings: 8 V
    2 A; 8V 500mA; 18 V 10 mA; 2x25V 1A; 2x5V 100mA.<br>
    <br>
    <img src="../pics/sch_ctt-ps4.png" width="100%" border="1">
    <br>
    <br>
    <br>
    <a href="index.html">Back to the Contents</a>
  </body>
</html>
